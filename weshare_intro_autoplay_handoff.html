<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>weshare • intro video → app handoff</title>
<style>
  html,body{height:100%;margin:0;background:#000;color:#fff;font-family:system-ui, -apple-system, Segoe UI, Roboto, Arial;}
  #intro{position:fixed;inset:0;background:#000;display:grid;place-items:center;z-index:9999;opacity:1;transition:opacity .35s ease}
  #intro video{width:100vw;height:100vh;object-fit:cover;background:#000;}
  #skip{position:fixed;right:12px;bottom:12px;padding:.6rem .9rem;border-radius:12px;border:1px solid rgba(255,255,255,.25);background:rgba(0,0,0,.4);color:#fff;z-index:10000}
  #app[hidden]{display:none !important;}
  .shell{min-height:100%;display:grid;place-items:center;background:linear-gradient(180deg,#0B0E14,#141B24)}
</style>
</head>
<body>
  <div id="intro">
    <video id="introVideo" autoplay muted playsinline webkit-playsinline preload="auto" src="https://cdn.jsdelivr.net/gh/Barak2828/Weshare@5652ce0d56d45321f333e05ff3271254f63504a0/intro.mp4"></video>
    <button id="skip" hidden>Skip</button>
  </div>
  <div id="app" hidden>
    <div class="shell">
      <h1 style="margin:0 0 8px;font-weight:800;letter-spacing:.2px;">weshare</h1>
      <p style="opacity:.8;margin:0">Intro finished — app shell visible.</p>
    </div>
  </div>
<script>
  const INTRO_KEY='weshare:intro:seen';
  const intro=document.getElementById('intro');
  const video=document.getElementById('introVideo');
  const app=document.getElementById('app');
  const skip=document.getElementById('skip');
  const reduceMotion=window.matchMedia('(prefers-reduced-motion: reduce)').matches;
  const alreadySeen=sessionStorage.getItem(INTRO_KEY)==='1';
  if(reduceMotion||alreadySeen){ intro.style.display='none'; app.hidden=false; }
  else{
    video.addEventListener('canplay',()=>{ setTimeout(()=> skip.hidden=false, 1500); });
    video.addEventListener('ended', finish);
    skip.addEventListener('click', finish);
    video.play().catch(()=>{ /* user gesture may be needed; skip becomes visible */ });
  }
  function finish(){
    sessionStorage.setItem(INTRO_KEY,'1');
    intro.style.opacity=0;
    setTimeout(()=>{ intro.style.display='none'; app.hidden=false; }, 350);
  }
</script>
</body>
</html>
